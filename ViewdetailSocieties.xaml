<Window x:Class="NewCustomerWindow.xaml.ViewdetailSocieties"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NewCustomerWindow.xaml"
        mc:Ignorable="d"
        Title="Car Washing Service Details" Height="840" Width="1200"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        Background="#FFF9FAFB">
    <Window.Resources>
        <!-- Styles -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="BorderBrush" Value="#FFE5E7EB"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#FFE5E7EB" Direction="270" ShadowDepth="2" BlurRadius="8" Opacity="0.3"/>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="HeaderTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#FF1F2937"/>
            <Setter Property="Margin" Value="0,0,0,5"/>
        </Style>

        <Style x:Key="SubHeaderTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="#FF6B7280"/>
        </Style>

        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#FF1F2937"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>

        <Style x:Key="LabelTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#FF6B7280"/>
            <Setter Property="Margin" Value="0,0,0,2"/>
        </Style>

        <Style x:Key="ValueTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Foreground" Value="#FF1F2937"/>
        </Style>

        <Style x:Key="BackButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="8"
                                x:Name="border">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#FFE5E7EB"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="StatCardStyle" TargetType="Border">
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>

        <Style x:Key="StatNumberStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="28"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="TextAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,8,0,0"/>
        </Style>

        <Style x:Key="StatLabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="TextAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,2,0,0"/>
        </Style>
    </Window.Resources>

    <!-- Added ScrollViewer to enable vertical scrolling -->
    <ScrollViewer VerticalScrollBarVisibility="Auto" 
                  HorizontalScrollBarVisibility="Disabled"
                  Padding="30">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,30">
                <Button x:Name="BackButton" Style="{StaticResource BackButtonStyle}" Click="BackButton_Click">
                    <Path Data="M20 12H4M4 12L10 6M4 12L10 18"
              Stroke="#FF6B7280"
              StrokeThickness="2">
                        <Path.StrokeStartLineCap>Round</Path.StrokeStartLineCap>
                        <Path.StrokeEndLineCap>Round</Path.StrokeEndLineCap>
                        <Path.StrokeLineJoin>Round</Path.StrokeLineJoin>
                    </Path>
                </Button>

                <StackPanel Margin="15,0,0,0">
                    <TextBlock Text="Service Details" Style="{StaticResource HeaderTextStyle}"/>
                    <TextBlock x:Name="LocationNameText" Style="{StaticResource SubHeaderTextStyle}"/>
                </StackPanel>
            </StackPanel>

            <!-- Main Content -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="1*"/>
                </Grid.ColumnDefinitions>

                <!-- Left Column - Service Overview + Service Stats + Status -->
                <StackPanel Grid.Column="0">
                    <!-- Service Overview -->
                    <Border Style="{StaticResource CardStyle}" Padding="30" Margin="0,0,0,25">
                        <StackPanel>
                            <!-- Service Header -->
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,25">
                                <Border Background="#FFDBEAFE" CornerRadius="8" Padding="8" Margin="0,0,15,0">
                                    <Ellipse Width="24" Height="24" Fill="#FF3B82F6"/>
                                </Border>
                                <StackPanel>
                                    <TextBlock x:Name="ServiceTypeText" 
                                             FontSize="20" FontWeight="SemiBold" Foreground="#FF1F2937"/>
                                    <TextBlock x:Name="ServiceDescriptionText" 
                                             FontSize="14" Foreground="#FF6B7280"/>
                                </StackPanel>
                            </StackPanel>

                            <!-- Service Details Grid -->
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Location -->
                                <Border Grid.Row="0" Grid.Column="0" Background="#FFF9FAFB" 
                                        CornerRadius="8" Padding="15" Margin="0,0,10,15">
                                    <StackPanel Orientation="Horizontal">
                                        <Path Data="M21 10C21 17 12 23 12 23S3 17 3 10A9 9 0 0 1 12 1A9 9 0 0 1 21 10ZM12 13A3 3 0 1 0 12 7A3 3 0 0 0 12 13Z"
                                              Fill="#FF6B7280" Width="16" Height="16" Margin="0,0,12,0"/>
                                        <StackPanel>
                                            <TextBlock Text="Location" Style="{StaticResource LabelTextStyle}"/>
                                            <TextBlock x:Name="AddressText" Style="{StaticResource ValueTextStyle}"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>

                                <!-- Contact -->
                                <Border Grid.Row="0" Grid.Column="1" Background="#FFF9FAFB" 
                                        CornerRadius="8" Padding="15" Margin="10,0,0,15">
                                    <StackPanel Orientation="Horizontal">
                                        <Path Data="M22 16.92V19A2 2 0 0 1 20.11 21A19.79 19.79 0 0 1 8.5 21A19.79 19.79 0 0 1 2.18 14.68A19.86 19.86 0 0 1 2 9A2 2 0 0 1 4.11 7H7A2 2 0 0 1 9 8.5L9.72 11.59A2 2 0 0 1 9.2 13.41L7.9 14.71A16 16 0 0 0 14.3 21.1L15.59 19.8A2 2 0 0 1 17.41 19.28L20.5 20A2 2 0 0 1 22 16.92Z"
                                              Fill="#FF6B7280" Width="16" Height="16" Margin="0,0,12,0"/>
                                        <StackPanel>
                                            <TextBlock Text="Contact" Style="{StaticResource LabelTextStyle}"/>
                                            <TextBlock x:Name="PhoneText" Style="{StaticResource ValueTextStyle}"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>

                                <!-- Manager -->
                                <Border Grid.Row="1" Grid.Column="0" Background="#FFF9FAFB" 
                                        CornerRadius="8" Padding="15" Margin="0,0,10,0">
                                    <StackPanel Orientation="Horizontal">
                                        <Path Data="M20 21V19A4 4 0 0 0 16 15H8A4 4 0 0 0 4 19V21M16 7A4 4 0 1 1 8 7A4 4 0 0 1 16 7Z"
                                              Fill="#FF6B7280" Width="16" Height="16" Margin="0,0,12,0"/>
                                        <StackPanel>
                                            <TextBlock Text="Manager" Style="{StaticResource LabelTextStyle}"/>
                                            <TextBlock x:Name="ManagerText" Style="{StaticResource ValueTextStyle}"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>

                                <!-- Hours -->
                                <Border Grid.Column="1" Background="#FFF9FAFB" 
                                        CornerRadius="8" Padding="15" Margin="10,81,0.333,0" Height="67" Grid.RowSpan="2" VerticalAlignment="Top">
                                    <StackPanel Orientation="Horizontal">
                                        <Path Data="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM12 7V12L15.5 15.5"
                                              Fill="#FF6B7280" Width="16" Height="16" Margin="0,0,12,0"/>
                                        <StackPanel>
                                            <TextBlock Text="Hours" Style="{StaticResource LabelTextStyle}"/>
                                            <TextBlock x:Name="HoursText" Style="{StaticResource ValueTextStyle}"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Service Stats -->
                    <Border Style="{StaticResource CardStyle}" Padding="30" Margin="0,0,0,25">
                        <StackPanel>
                            <TextBlock Text="Service Stats" Style="{StaticResource SectionHeaderStyle}"/>

                            <StackPanel>
                                <!-- ✅ CHANGE 1: Made Active Cars clickable in Service Stats -->
                                <Border BorderBrush="#FFE5E7EB" BorderThickness="0,0,0,1" Padding="0,8"
                                        Cursor="Hand" 
                                        MouseLeftButtonDown="ActiveCars_Click"
                                        Background="Transparent">
                                    <Grid>
                                        <TextBlock Text="Active Cars" Foreground="#FF6B7280" />
                                        <TextBlock x:Name="StatsActiveCarsText" 
                                                   Foreground="#FF3B82F6" 
                                                   FontWeight="Medium" 
                                                   HorizontalAlignment="Right"
                                                   TextDecorations="Underline"/>
                                    </Grid>
                                </Border>

                                <Border BorderBrush="#FFE5E7EB" BorderThickness="0,0,0,1" Padding="0,8">
                                    <Grid>
                                        <TextBlock Text="Avg. Rating" Foreground="#FF6B7280"/>
                                        <TextBlock x:Name="AvgRatingText" Foreground="#FF1F2937" FontWeight="Medium" HorizontalAlignment="Right"/>
                                    </Grid>
                                </Border>

                                <Border Padding="0,8">
                                    <Grid>
                                        <TextBlock Text="Service Since" Foreground="#FF6B7280"/>
                                        <TextBlock x:Name="ServiceSinceText" Foreground="#FF1F2937" FontWeight="Medium" HorizontalAlignment="Right"/>
                                    </Grid>
                                </Border>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Status Badge -->
                    <Border Style="{StaticResource CardStyle}" Padding="30">
                        <StackPanel HorizontalAlignment="Center">
                            <Border x:Name="StatusBorder" CornerRadius="20" Padding="15,8">
                                <StackPanel Orientation="Horizontal">
                                    <Ellipse x:Name="StatusIndicator" Width="8" Height="8" Margin="0,0,8,0"/>
                                    <TextBlock x:Name="StatusText" FontWeight="Medium" FontSize="14"/>
                                </StackPanel>
                            </Border>
                            <TextBlock x:Name="StatusDescriptionText" Foreground="#FF6B7280" FontSize="12" Margin="0,8,0,0" TextAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Right Column - Current Status Statistics -->
                <StackPanel Grid.Column="2">
                    <!-- Current Status -->
                    <Border Style="{StaticResource CardStyle}" Padding="25">
                        <StackPanel>
                            <TextBlock Text="Current Status" Style="{StaticResource SectionHeaderStyle}"/>

                            <!-- ✅ CHANGE 2: Made Active Cars clickable in Current Status card -->
                            <Border Background="#FFDBEAFE" Style="{StaticResource StatCardStyle}"
                                    Cursor="Hand" 
                                    MouseLeftButtonDown="ActiveCars_Click">
                                <StackPanel>
                                    <TextBlock x:Name="ActiveCarsText" 
                                               Foreground="#FF3B82F6" 
                                               Style="{StaticResource StatNumberStyle}"
                                               TextDecorations="Underline"/>
                                    <TextBlock Text="Active Cars" Foreground="#FF6B7280" Style="{StaticResource StatLabelStyle}"/>
                                </StackPanel>
                            </Border>

                            <!-- Revenue -->
                            <Border Background="#FFD1FAE5" Style="{StaticResource StatCardStyle}">
                                <StackPanel>
                                    <Path Data="M12 2V22M17 5H9.5A3.5 3.5 0 0 0 9.5 12H14.5A3.5 3.5 0 0 1 14.5 19H6"
                                          Fill="#FF10B981" Width="32" Height="32" HorizontalAlignment="Center" StrokeThickness="2" Stroke="#FF10B981"/>
                                    <TextBlock x:Name="RevenueText" Foreground="#FF10B981" Style="{StaticResource StatNumberStyle}"/>
                                    <TextBlock Text="Total Revenue" Foreground="#FF6B7280" Style="{StaticResource StatLabelStyle}"/>
                                </StackPanel>
                            </Border>

                            <!-- Rating -->
                            <Border Background="#FFFEF3C7" Style="{StaticResource StatCardStyle}">
                                <StackPanel>
                                    <Path Data="M11.049 2.927C11.3483 2.00556 12.6517 2.00556 12.951 2.927L14.4697 7.60081C14.6035 8.01284 14.9875 8.29266 15.4207 8.29266H20.4991C21.4717 8.29266 21.9122 9.52493 21.1543 10.1008L17.3085 12.9894C16.9608 13.2441 16.8174 13.7046 16.9512 14.1167L18.4699 18.7905C18.7692 19.7119 17.7504 20.4884 16.9925 19.9126L13.1467 17.024C12.7989 16.7693 12.2011 16.7693 11.8533 17.024L8.0075 19.9126C7.24959 20.4884 6.23078 19.7119 6.53013 18.7905L8.04875 14.1167C8.18259 13.7046 8.03918 13.2441 7.69141 12.9894L3.84565 10.1008C3.08774 9.52493 3.52827 8.29266 4.50091 8.29266H9.57929C10.0125 8.29266 10.3965 8.01284 10.5303 7.60081L11.049 2.927Z"
                                          Fill="#FFF59E0F" Width="32" Height="32" HorizontalAlignment="Center"/>
                                    <TextBlock x:Name="RatingText" Foreground="#FFF59E0F" Style="{StaticResource StatNumberStyle}"/>
                                    <TextBlock Text="Customer Rating" Foreground="#FF6B7280" Style="{StaticResource StatLabelStyle}"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>
        </Grid>
    </ScrollViewer>
</Window>